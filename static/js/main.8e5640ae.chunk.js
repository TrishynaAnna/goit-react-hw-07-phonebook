(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{16:function(t,e,n){t.exports={filter:"FindContact_filter__2QJnz",input:"FindContact_input__36gmk"}},28:function(t,e,n){t.exports={container:"Phonebook_container__19OaE"}},56:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n(11),r=n.n(c),o=n(12),i=n(13),u=n(15),s=n(14),b=n(9),l=n.n(b),j=n(1),m=function(t){var e=t.contact,n=t.removeItem;return Object(j.jsxs)("li",{"data-id":e.id,className:l.a.contactListItem,children:[Object(j.jsx)("h4",{className:l.a.contactListItemHeadline,children:e.name}),Object(j.jsx)("h4",{className:l.a.contactListItemHeadline,children:e.number}),Object(j.jsx)("button",{type:"button",id:e.id,onClick:function(){return n(e.id)},className:l.a.button,children:"delete"})]})},O=function(t){return t.contacts.items},d=function(t){return t.contacts.filter},f=n(7),p=n(3),h=n(2),x=Object(h.b)("contacts/addRequest"),v=Object(h.b)("contacts/addSuccess"),_=Object(h.b)("contacts/addError"),C=Object(h.b)("contacts/getRequest"),N=Object(h.b)("contacts/getSuccess"),I=Object(h.b)("contacts/getError"),y=Object(h.b)("contacts/removeRequest"),g=Object(h.b)("contacts/removeSuccess"),L=Object(h.b)("contacts/removeError"),E=Object(h.b)("FILTER_CONTACT",(function(t){return{payload:t.target.value}})),S=n(10),w=n.n(S);w.a.defaults.baseURL="http://localhost:3000";var k=n(6);var F,T,A={removeItem:function(t){return function(e){e(y()),w.a.delete("/contacts/".concat(t)).then((function(){e(g(t))})).catch((function(t){return e(L(t))}))}}},R=Object(k.b)((function(t){return{items:O(t),filter:d(t)}}),A)((function(t){var e=t.items,n=t.filter,a=void 0===n?"":n,c=t.removeItem,r=function(t,e){return 0!==e.length?t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())})):t}(e,a);return Object(j.jsx)("ul",{children:r.map((function(t){return Object(j.jsx)(m,{removeItem:c,contact:t},t.id)}))})})),H=n(5),V=n(8),U=n.n(V),q=function(t){return t.status.inOn},B=function(t){return t.status.exist},D=Object(h.b)("CHANGE_STATUS_ISON"),G=Object(h.b)("CHANGE_STATUS_EXIST"),J=function(t){Object(u.a)(n,t);var e=Object(s.a)(n);function n(){var t;Object(o.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(t=e.call.apply(e,[this].concat(c))).state={name:"",number:""},t.handleInputValue=function(e){var n=e.target.dataset.type;t.setState(Object(H.a)({},n,e.target.value))},t.handleSubmit=function(e){var n=t.props,a=n.statusExist,c=n.addNewContact;e.preventDefault();var r={name:t.state.name.replace(/\b\w/g,(function(t){return t.toUpperCase()})),number:t.state.number};if(t.props.items.find((function(t){return t.name.toLowerCase()===r.name.toLowerCase()})))return a(!0),setTimeout((function(){a(!1)}),2e3);c(r),t.setState({name:"",number:""})},t}return Object(i.a)(n,[{key:"render",value:function(){var t=this.state,e=t.name,n=t.number;return Object(j.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(j.jsx)("label",{className:U.a.label,htmlFor:"contactName",children:"Name"}),Object(j.jsx)("input",{className:U.a.input,id:"contactName",type:"text","data-type":"name",value:e,placeholder:"Enter your name",onChange:this.handleInputValue}),Object(j.jsx)("br",{}),Object(j.jsx)("label",{className:U.a.label,htmlFor:"contactNumber",children:"Number (xxx-xx-xx)"}),Object(j.jsx)("input",{className:U.a.input,id:"contactNumber",type:"text","data-type":"number",value:n,pattern:"[0-9]{3}-[0-9]{2}-[0-9]{2}",placeholder:"Enter your phone number in this format",onChange:this.handleInputValue}),Object(j.jsx)("button",{className:U.a.button,variant:"outlined",type:"submit",children:"Add contact"})]})}}]),n}(a.Component),P={addNewContact:function(t){return function(e){e(x()),w.a.post("/contacts",Object(p.a)({},t)).then((function(t){var n=t.data;e(v(Object(p.a)({},n)))})).catch((function(t){return e(_(t))}))}},statusExist:G},Q=Object(k.b)((function(t){return{items:O(t),exist:B(t)}}),P)(J),Y=n(16),z=n.n(Y),M={getFilterValue:E},X=Object(k.b)((function(t){return t}),M)((function(t){var e=t.getFilterValue;return Object(j.jsxs)("div",{className:z.a.filter,children:[Object(j.jsx)("label",{className:z.a.label,htmlFor:"findContact",children:"Enter a name to search"}),Object(j.jsx)("input",{className:z.a.input,id:"findContact",type:"text",onChange:e})]})})),K=n(28),W=n.n(K),Z=function(t){Object(u.a)(n,t);var e=Object(s.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.props.getItem()}},{key:"render",value:function(){return this.props.statusInOn(!0),Object(j.jsxs)("div",{className:W.a.container,children:[Object(j.jsx)("h1",{children:"Phonebook"}),Object(j.jsx)(Q,{}),Object(j.jsx)(X,{}),Object(j.jsx)(R,{})]})}}]),n}(a.Component),$={getItem:function(){return function(t){t(C()),w.a.get("/contacts").then((function(e){var n=e.data;t(N(Object(f.a)(n)))})).catch((function(e){return t(I(e))}))}},statusInOn:D},tt=Object(k.b)((function(t){return{items:O(t),inOn:q(t)}}),$)(Z),et=function(){return Object(j.jsx)(tt,{})},nt=Object(h.c)({items:[],filter:""},(F={},Object(H.a)(F,N,(function(t,e){return{items:e.payload}})),Object(H.a)(F,v,(function(t,e){return Object(p.a)(Object(p.a)({},t),{},{items:[].concat(Object(f.a)(t.items),[e.payload])})})),Object(H.a)(F,g,(function(t,e){return Object(p.a)(Object(p.a)({},t),{},{items:Object(f.a)(t.items.filter((function(t){return t.id!==e.payload})))})})),Object(H.a)(F,E,(function(t,e){return Object(p.a)(Object(p.a)({},t),{},{filter:e.payload})})),F)),at=Object(h.c)({inOn:!1,exist:!1},(T={},Object(H.a)(T,D,(function(t,e){return Object(p.a)(Object(p.a)({},t),{},{inOn:e.payload})})),Object(H.a)(T,G,(function(t,e){return Object(p.a)(Object(p.a)({},t),{},{exist:e.payload})})),T)),ct=Object(h.a)({reducer:{contacts:nt,status:at},middleware:Object(f.a)(Object(h.d)())});r.a.render(Object(j.jsx)(k.a,{store:ct,children:Object(j.jsx)(et,{})}),document.getElementById("root"))},8:function(t,e,n){t.exports={label:"ContactForm_label__BeGQA",input:"ContactForm_input__YOxiY",button:"ContactForm_button__2Dubg"}},9:function(t,e,n){t.exports={contactListItem:"ContactListItem_contactListItem__1RNgi",contactListItemHeadline:"ContactListItem_contactListItemHeadline__5RcP4",button:"ContactListItem_button__NmidB"}}},[[56,1,2]]]);
//# sourceMappingURL=main.8e5640ae.chunk.js.map